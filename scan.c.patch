--- scan.c	2014-01-12 03:16:34.000000000 +0400
+++ scan.c.patched	2014-02-23 10:26:08.153641159 +0400
@@ -573,7 +573,7 @@
  */
 void aglexinit(Agdisc_t *disc, void *ifile) { Disc = disc; Ifile = ifile; graphType = 0;}
 
-#define isatty(x) 0
+// #define isatty(x) 0
 #ifndef YY_INPUT
 #define YY_INPUT(buf,result,max_size) \
 	if ((result = Disc->io->afread(Ifile, buf, max_size)) < 0) \
